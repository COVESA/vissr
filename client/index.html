<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.103.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/vissr/images/fav.png" type="image/x-icon" />

    <title>VISSR Clients :: COVESA VISSv2 Reference Implementation (vissr)</title>

    
    <link href="/vissr/css/nucleus.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/fontawesome-all.min.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/hybrid.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/featherlight.min.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/perfect-scrollbar.min.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/auto-complete.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/atom-one-dark-reasonable.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/theme.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/tabs.css?1736152444" rel="stylesheet">
    <link href="/vissr/css/hugo-theme.css?1736152444" rel="stylesheet">
    
    <link href="/vissr/css/theme-blue.css?1736152444" rel="stylesheet">
    
    

    <script src="/vissr/js/jquery-3.3.1.min.js?1736152444"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/vissr/client/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://covesa.github.io/vissr/">
  <img src="/vissr/images/vissv2.png">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/vissr/js/lunr.min.js?1736152444"></script>
<script type="text/javascript" src="/vissr/js/auto-complete.js?1736152444"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/covesa.github.io\/vissr\/";
    
</script>
<script type="text/javascript" src="/vissr/js/search.js?1736152444"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/vissr/build-system/" title="VISSR Build System" class="dd-item
        
        
        
        ">
      <a href="/vissr/build-system/">
          VISSR Build System
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/vissr/build-system/hello-world/" title="VISSR Hello World example" class="dd-item
        
        
        
        ">
      <a href="/vissr/build-system/hello-world/">
          VISSR Hello World example
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/client/" title="VISSR Clients" class="dd-item
        
        active
        
        ">
      <a href="/vissr/client/">
          VISSR Clients
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/datastore/" title="VISSR Data Storage" class="dd-item
        
        
        
        ">
      <a href="/vissr/datastore/">
          VISSR Data Storage
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/vissr/datastore/apache-iotdb/" title="VISSR Apache IoTDB" class="dd-item
        
        
        
        ">
      <a href="/vissr/datastore/apache-iotdb/">
          VISSR Apache IoTDB
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vissr/datastore/memcached/" title="VISSR Memcached" class="dd-item
        
        
        
        ">
      <a href="/vissr/datastore/memcached/">
          VISSR Memcached
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vissr/datastore/redis/" title="VISSR Redis" class="dd-item
        
        
        
        ">
      <a href="/vissr/datastore/redis/">
          VISSR Redis
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vissr/datastore/sqlite/" title="VISSR SQLite" class="dd-item
        
        
        
        ">
      <a href="/vissr/datastore/sqlite/">
          VISSR SQLite
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/docker-step-by-step/" title="VISSR Docker" class="dd-item
        
        
        
        ">
      <a href="/vissr/docker-step-by-step/">
          VISSR Docker
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/feeder/" title="VISSR Feeders" class="dd-item
        
        
        
        ">
      <a href="/vissr/feeder/">
          VISSR Feeders
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/peripheral-components/" title="VISSR peripheral components" class="dd-item
        
        
        
        ">
      <a href="/vissr/peripheral-components/">
          VISSR peripheral components
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/pocs/" title="VISSR POCs" class="dd-item
        
        
        
        ">
      <a href="/vissr/pocs/">
          VISSR POCs
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/vissr/pocs/poc2/" title="Next POC..." class="dd-item
        
        
        
        ">
      <a href="/vissr/pocs/poc2/">
          Next POC...
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vissr/pocs/poc1/" title="Vehicle.Speed subscription example" class="dd-item
        
        
        
        ">
      <a href="/vissr/pocs/poc1/">
          Vehicle.Speed subscription example
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/server/" title="VISSR Server" class="dd-item
        
        
        
        ">
      <a href="/vissr/server/">
          VISSR Server
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/vissr/server/access-control-servers/" title="VISSR Access Control Servers" class="dd-item
        
        
        
        ">
      <a href="/vissr/server/access-control-servers/">
          VISSR Access Control Servers
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/vissr/server/binary-tree-config/" title="VISSR binary tree configuration" class="dd-item
        
        
        
        ">
      <a href="/vissr/server/binary-tree-config/">
          VISSR binary tree configuration
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/vissr/tools/" title="VISSR Tools" class="dd-item
        
        
        
        ">
      <a href="/vissr/tools/">
          VISSR Tools
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/covesa/vissr"><i class='fab fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/covesa/vissr/edit/master/tutorial/content/client/_index.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/vissr/'>COVESA Vehicle Information Service Specification ver 3 Reference Implementation Tutorial</a> > VISSR Clients
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#client-deployment-options">Client deployment options</a></li>
    <li><a href="#client-implementations">Client implementations</a>
      <ul>
        <li><a href="#grpc-client">gRPC client</a></li>
        <li><a href="#mqtt-client">MQTT client</a></li>
        <li><a href="#csv-client">CSV client</a></li>
        <li><a href="#filetransfer-client">Filetransfer client</a></li>
        <li><a href="#compression-client">Compression client</a></li>
        <li><a href="#proprietary-compression-algorithm">Proprietary compression algorithm</a></li>
        <li><a href="#protobuf-encoding">Protobuf encoding</a></li>
      </ul>
    </li>
    <li><a href="#java-script-clients">Java script clients</a>
      <ul>
        <li><a href="#http-client">HTTP client</a></li>
        <li><a href="#websocket-client">Websocket client</a></li>
        <li><a href="#websocket-client-using-compression">Websocket client (using compression)</a></li>
        <li><a href="#access-grant-token-server-client">Access Grant Token Server client</a></li>
        <li><a href="#access-token-server-client">Access Token Server client</a></li>
      </ul>
    </li>
    <li><a href="#android-app-client">Android app client</a></li>
    <li><a href="#clients-on-other-repos">Clients on other repos</a>
      <ul>
        <li><a href="#viss-web-client">VISS Web Client</a></li>
        <li><a href="#ccs-client">CCS client</a></li>
        <li><a href="#ccs-mqtt-client">CCS MQTT client</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              VISSR Clients
            </h1>
          

        



	<h2 id="client-deployment-options">Client deployment options</h2>
<p>As is shown in the figure above the VISS interface is well suited to serve clients deployed in different environments:</p>
<ul>
<li>Cloud deployment. Typically connected via Internet connectivity.</li>
<li>Proximity deployment. Typcially in a mobile phone connected via any short range connectivity such as Bluetooth or WiFi.</li>
<li>In-vehicle deployment. Typically as an app in the infotainment environment.</li>
</ul>
<p>The payloads handled by the clients at any of these deployments are identical.</p>
<p>The MQTT transport protocol option, with the broker deployed in the cloud,
is well suited for the client cloud deployment as the communication can traverse across subnets.
The thin application layer protocol on top of MQTT that VISS defines makes it possible
to keep the client-server communication, and payload compatibility.</p>
<h2 id="client-implementations">Client implementations</h2>
<p>There are a number of different clients avaliable on this repo, mainly in the client/client-1.0 directory.</p>
<h3 id="grpc-client">gRPC client</h3>
<p>The gRPC implementation uses the protobuf encoding in the VISSv2messages.proto file found <a href="https://github.com/covesa/vissr/tree/master/grpc_pb">here</a>.
The server currently only supports the protobuf level 1 encoding.</p>
<h3 id="mqtt-client">MQTT client</h3>
<p>The <a href="https://github.com/UlfBj/vissr/tree/master/client/client-1.0/mqtt_client">MQTT client</a> implements the application level protocol described in the
<a href="https://raw.githack.com/COVESA/vehicle-information-service-specification/main/spec/VISSv2_Transport.html#application-level-protocol">specification</a>.</p>
<h3 id="csv-client">CSV client</h3>
<p>The <a href="">CSV client</a> is developed for testing the <a href="https://www.geotab.com/blog/gps-logging-curve-algorithm/">curve logging algorithm</a> that Geotab has opened for public cuse.
A client can equest it to be aplied to data by using a <a href="https://raw.githack.com/COVESA/vehicle-information-service-specification/main/spec/VISSv2_Core.html#curvelog-filter-operation">filter</a> option.</p>
<p>It generates a comma separated (CSV) file in which it saves the curve logged data that it has reuested from the server.
The CSV format makes it easy to import it into an Excel sheet and visualize it as a graph which allows it e. g. to be compared with the original, non-curved data.</p>
<h3 id="filetransfer-client">Filetransfer client</h3>
<p>This client exercises the file transfer support by the VISSR server which supports it on the Websocket protocol.
The CLI command enables it to be started for either upload or download, in which case a small text file is transported(upload.txt and dlFile.txt respectively).
For this to work the binary tree must contain upload and download nodes which the vss_filetransfer.binary tree has been augmented with (the rest is VSS v5.0).</p>
<h3 id="compression-client">Compression client</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/compress_client/compress_client.go">compression client</a> can be used for testing three payload compression variants.</p>
<ul>
<li>Proprietary compression algorithm</li>
<li>Protobuf encoding, level 1</li>
<li>Protobuf encoding, level 2</li>
</ul>
<h3 id="proprietary-compression-algorithm">Proprietary compression algorithm</h3>
<p>This compression variant builds on a proprietary algorithm that takes advantage of knowing the VISSv2 payload format.
Due to its strong dependence on the payload format it might require rewrites if/when the payload format is updated.
It is not kept up to date on this and is therefore likely to crash if an unsupported payload is applied.</p>
<h3 id="protobuf-encoding">Protobuf encoding</h3>
<p>The encoding uses the VISSv2messages.proto file found <a href="https://github.com/covesa/vissr/tree/master/protobuf">here</a>.
The server supports this only for the Websocket protocol, where the websocket transport manager encodes payloads before sending them,
and decodes payloads directly after receiving them. The client follows the same encoding/decoding behavior,
so that the use of protobuf encoding is abstracted before other layers in both the server and the client get access to the payloads.
Two levels of protobuf encoding are available, level one in which paths and timestamps have the standardized text format,
and level two where these fields are compressed.</p>
<h4 id="level-2">Level 2</h4>
<p>Level 2 compresses the VSS paths by using the <a href="/vissr/server#pathlist-file-generation">VSS path list</a> as a lookup table.
Instead of using the string paths in the encoded payload the index into the array is used.
Finding the index in the array for a given path is done by applying a binary search, as the array paths are sorted by the server.
Going the other way, the array is simply indexed by the integer value from the protobuf encoded payload.
The string based timestamps are replaced by an int32 as shown in the CompressTS() procedure found in <a href="https://github.com/covesa/vissr/blob/master/utils/computils.go">computils.go</a>.
Level 2 achieves compression rates of around 5 or better.</p>
<h2 id="java-script-clients">Java script clients</h2>
<p>There are a few clients that are written in Javascript, and thus when started opens in a browser.
Thes clients can be quite handy for quick testing of the server functionality.
Example payloads that can be used as input are found in the <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/appclient_commands.txt">appclient_commands.txt</a> file.</p>
<h3 id="http-client">HTTP client</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/httpclient.html">HTTP Client</a>
requires the server IP address/URL to be written into the field for it, and the IP address button to be pushed.
Thereafter paths can be written into the Get field, followed by a push of the Get button.
In the case of the client writing a value to the server, the path is written into the Set field, with the value in the following field, before pushing the Post button.
If the data associated with the path is access controlled, then the access token that must have been obtained via the dialogues with the two autorization servers
must first be written into the field for the token. Klicking the button to the right of it preserves the token for use in multple requests.</p>
<h3 id="websocket-client">Websocket client</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/wsclient_uncompressed.html">Websocket Client</a>
requires the server IP address/URL to be written into the field for it, and the IP address button to be pushed.
Thereafter JSON based payloads can be written into the Sed field, followed by a push of the Send button.</p>
<h3 id="websocket-client-using-compression">Websocket client (using compression)</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/wsclient_compressed.html">Websocket Client</a>
requires the server IP address/URL to be written into the field for it, and the IP address button to be pushed.
Thereafter JSON based payloads can be written into the Sed field, followed by a push of the Send button.
The difference to the uncompressed Websocket client is that this client opens a Websocket session with the erver in which it requests a session in which
proprietary compression is applied to the payloads (see chapter above).</p>
<h3 id="access-grant-token-server-client">Access Grant Token Server client</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/agtclient.html">AGT client</a>
requests an Access Grant Token from the Access Grant Token server.</p>
<p>It requires the AGT server IP address/URL to be written into the field for it, and the Server IP button to be pushed.
In the leftmost field below &ldquo;agtserver&rdquo; (no quotes) must be written, then in the rightmost field a request payload shall be written.
A payload example can be found in the <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/appclient_commands.txt">appclient_commands.txt</a> file.
The proof value must be &ldquo;ABC&rdquo; for a positive validation, in which case an Access Grant token is returned.</p>
<h3 id="access-token-server-client">Access Token Server client</h3>
<p>The <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/atclient.html">AT client</a>
requests an Access Token from the Access Token server.</p>
<p>It requires the AT server IP address/URL to be written into the field for it, and the Server IP button to be pushed.
In the leftmost field below &ldquo;atserver&rdquo; (no quotes) must be written, then in the rightmost field a request payload shall be written.
A payload example can be found in the <a href="https://github.com/covesa/vissr/blob/master/client/client-1.0/Javascript/appclient_commands.txt">appclient_commands.txt</a> file.
The token that is provided in the request must include an Access Grant token from the response of a successful reuquest to the AGT server.</p>
<h2 id="android-app-client">Android app client</h2>
<p>The client/android/covesa-vissr-app-demo directory contains an Android app that realizes a VISSv2.0 client.
This was demoed at the COVESA spring 2024 AMM in Gothenburg.
<a href="https://wiki.covesa.global/download/attachments/98271360/Empowering%20digital%20services%20-%20COVESA%20AMM%20Gbg%202024.pdf?version=1&amp;modificationDate=1714401997052&amp;api=v2">Presentation</a>,
<a href="https://wiki.covesa.global/download/attachments/98271360/Empowering%20digital%20services%20-%20COVESA%20AMM%20Gbg%202024_Demo.mp4?version=1&amp;modificationDate=1714634868645&amp;api=v2">Demo recording</a></p>
<h2 id="clients-on-other-repos">Clients on other repos</h2>
<h3 id="viss-web-client">VISS Web Client</h3>
<p>The <a href="https://github.com/nicslabdev/viss-web-client">VISS web client</a> exposes a sophisticated UI that includes support for the dialogues that a client needs
to have with the authorization server in scenarios where access control is required.</p>
<h3 id="ccs-client">CCS client</h3>
<p>The <a href="https://github.com/COVESA/ccs-components/blob/master/ovds/client/ccs-client.go">CCS client</a> uses either HTTP (for Get requests), or Websocket (for subscribe requests)
to access data according to a list of paths in a config file, and then requesting an OVDS server to write this data into the OVDS database.</p>
<h3 id="ccs-mqtt-client">CCS MQTT client</h3>
<p>The <a href="https://github.com/COVESA/ccs-components/blob/master/ovds/client/mqtt-client/mqtt_client.go">CCS MQTT client</a> uses the VISSv2 MQTT based protocol to subscribe to
data according to a list of paths in a config file, and then requesting an OVDS server to write this data into the OVDS database.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/vissr/build-system/hello-world/" title="VISSR Hello World example"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/vissr/datastore/" title="VISSR Data Storage" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/vissr/js/clipboard.min.js?1736152444"></script>
    <script src="/vissr/js/perfect-scrollbar.min.js?1736152444"></script>
    <script src="/vissr/js/perfect-scrollbar.jquery.min.js?1736152444"></script>
    <script src="/vissr/js/jquery.sticky.js?1736152444"></script>
    <script src="/vissr/js/featherlight.min.js?1736152444"></script>
    <script src="/vissr/js/highlight.pack.js?1736152444"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/vissr/js/modernizr.custom-3.6.0.js?1736152444"></script>
    <script src="/vissr/js/learn.js?1736152444"></script>
    <script src="/vissr/js/hugo-learn.js?1736152444"></script>
    
        
            <script src="/vissr/mermaid/mermaid.js?1736152444"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
